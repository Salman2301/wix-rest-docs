{"name":"Dealer Offer Events","memberOf":"All APIs","category":"core","mixes":[],"labels":[],"docs":{"summary":"Report and query offer events","description":[]},"properties":[],"tags":[{"name":"OfferEvent","entity":"_wix_dealerOfferEvents_api_v1_OfferEvent"}],"relatedGuides":[{"path":"../guides/dealer-offer-events/Introduction.md"}],"operations":[{"name":"List Events Summary","methodName":"ListEventsSummary","serviceName":"DealerOfferEventsService","tag":"OfferEvent","permissions":[],"events":[],"labels":[],"nameParams":[],"requiredFields":["offerIds","summaryFilter.fieldMask"],"params":[{"in":"QUERY","name":"offerIds","type":{"name":"array","typeParams":["string"]},"doc":" each elemnt in response is a summary of offerId \n","required":true},{"in":"QUERY","name":"summaryFilter.fieldMask","type":"ref","doc":" in the format of ListEventsSummaryResponse fields - e.g eventsSummary.lastEvent.AGENT_MARK, eventsSummary.eventsCount.VIEW\n will detrmine how summary response will be populated.\n for example: top field mask will result in { eventsCount: { VIEW: 8 }, lastEvent: { AGENT_MARK: {...} }  }\n","required":true},{"in":"QUERY","name":"summaryFilter.countTimeFrame","type":"ref","doc":" the time period in which to count events. Defined in number of minutes/months/years from now into the past. The default, if not set, is all times.\n this filter does not affect the “firstEvent” and “lastEvent” measure, but only the counts.\n","required":false},{"in":"QUERY","name":"summaryFilter.siteId","type":"string","doc":" optional - only events reported with this site id will be taken into account\n","required":false},{"in":"QUERY","name":"summaryFilter.userId","type":"string","doc":" only events reported with this user id will be taken into account\n","required":false},{"in":"QUERY","name":"summaryFilter.targetAccountId","type":"string","doc":" only events reported with this account id will be taken into account\n","required":false}],"ret":{"type":{"name":"ListEventsSummary","statusCode":"200","typeParams":["All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_ListEventsSummaryResponse"]},"doc":""},"locations":[],"docs":{"summary":" return list of offer events summary for a bulk of offer ids.\n a summary response contains count and last/first event happend for each event type - use field mask to explictly specify it.\n summary can be filtered by site, userId and targetAccountId. if non of them passed - will be filtered by request aspects context (targetAccount and site).\n special permission DEALER.OFFER_EVENTS_EXPLICIT_CONTEXT is required in order to pass explicit context filter  \n count summary can be filtered also by timeframe from date of request(buckets - e.g last 3 days, last month)\n \n","description":[],"request":"GET","url":"https://wix.com/_api/dealer-offer-events-service/v1/dealer-offer-events/summary","links":[],"examples":[],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"ListEventsSummaryRequest","rpcResponseName":"ListEventsSummaryResponse"}},{"name":"Report Event","methodName":"ReportEvent","serviceName":"DealerOfferEventsService","tag":"OfferEvent","permissions":[],"events":[],"labels":[],"nameParams":[],"requiredFields":["event.offerId"],"params":[{"in":"PATH","name":"event.offerId","type":"string","doc":"","required":true},{"in":"BODY","name":"event","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_OfferEvent","doc":" required fields: type and offer_id\n if non of the context fields are being set then they will be taken implictly from aspects\n in order to pass context fields explictly a premission is required\n","required":false}],"ret":{"type":{"name":"ReportEvent","statusCode":"200","typeParams":["All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_ReportEventResponse"]},"doc":""},"locations":[],"docs":{"summary":" report an event for an offer and a specific user context\n only priviliged users with DEALER.OFFER_EVENTS_EXPLICIT_CONTEXT can report on behalf of user and fill context fields.\n if non of context fields are set they will be extracted from aspects.\n \n","description":[],"request":"POST","url":"https://wix.com/_api/dealer-offer-events-service/v1/dealer-offer-events/{event.offerId}","links":[],"examples":[],"extra":{}},"extra":{"hasRest":true,"rpcRequestName":"ReportEventRequest","rpcResponseName":"ReportEventResponse"}}],"events":[],"callbacks":[],"messages":[{"name":"_google_protobuf_FieldMask","displayName":"Field Mask Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"paths","type":{"name":"array","typeParams":["string"]},"doc":" The set of field mask paths.\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_ListEventsSummaryRequest","displayName":"List Events Summary Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"offerIds","type":{"name":"array","typeParams":["string"]},"doc":" each elemnt in response is a summary of offerId \n"},{"name":"summaryFilter","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_SummaryFilter","doc":" applied to each offerId\n must contains at least one of user_id or target_account_id\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_SummaryFilter","displayName":"Summary Filter Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"fieldMask","type":"All APIs.Dealer Offer Events._google_protobuf_FieldMask","doc":" in the format of ListEventsSummaryResponse fields - e.g eventsSummary.lastEvent.AGENT_MARK, eventsSummary.eventsCount.VIEW\n will detrmine how summary response will be populated.\n for example: top field mask will result in { eventsCount: { VIEW: 8 }, lastEvent: { AGENT_MARK: {...} }  }\n"},{"name":"countTimeFrame","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_TimeFrame","doc":" the time period in which to count events. Defined in number of minutes/months/years from now into the past. The default, if not set, is all times.\n this filter does not affect the “firstEvent” and “lastEvent” measure, but only the counts.\n"},{"name":"siteId","type":"string","doc":" optional - only events reported with this site id will be taken into account\n"},{"name":"userId","type":"string","doc":" only events reported with this user id will be taken into account\n"},{"name":"targetAccountId","type":"string","doc":" only events reported with this account id will be taken into account\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_ListEventsSummaryResponse","displayName":"List Events Summary Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"eventsSummary","type":{"name":"array","typeParams":["All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_EventsSummary"]},"doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"eventsCountMapEntry","displayName":"events Count Map Entry Object","locations":[],"docs":{"summary":"Set of key-value pairs. key is a value from EventType enum\n","links":[],"examples":[]},"members":[{"name":"key:value","type":"integer","doc":"`key` of type string, `value` of type integer"}],"enum":null,"extra":{},"labels":[]},{"name":"lastEventMapEntry","displayName":"last Event Map Entry Object","locations":[],"docs":{"summary":"Set of key-value pairs. key is a value from EventType enum\n","links":[],"examples":[]},"members":[{"name":"key:value","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_OfferEvent","doc":"`key` of type string, `value` of type ref"}],"enum":null,"extra":{},"labels":[]},{"name":"firstEventMapEntry","displayName":"first Event Map Entry Object","locations":[],"docs":{"summary":"Set of key-value pairs. key is a value from EventType enum\n","links":[],"examples":[]},"members":[{"name":"key:value","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_OfferEvent","doc":"`key` of type string, `value` of type ref"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_EventsSummary","displayName":"Events Summary Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"offerId","type":"string","doc":""},{"name":"eventsCount","type":"All APIs.Dealer Offer Events.eventsCountMapEntry","doc":"Set of key-value pairs. key is a value from EventType enum\n"},{"name":"lastEvent","type":"All APIs.Dealer Offer Events.lastEventMapEntry","doc":"Set of key-value pairs. key is a value from EventType enum\n"},{"name":"firstEvent","type":"All APIs.Dealer Offer Events.firstEventMapEntry","doc":"Set of key-value pairs. key is a value from EventType enum\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_TimeFrame","displayName":"Time Frame Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"type","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_TimeFrameType","doc":""},{"name":"number","type":"integer","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_ReportEventRequest","displayName":"Report Event Request Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"event","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_OfferEvent","doc":" required fields: type and offer_id\n if non of the context fields are being set then they will be taken implictly from aspects\n in order to pass context fields explictly a premission is required\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_ReportEventResponse","displayName":"Report Event Response Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_OfferEvent","displayName":"Offer Event Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"payload","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_OfferEvent_payload","doc":""},{"name":"offerId","type":"string","doc":""},{"name":"realEstateId","type":"string","doc":""},{"name":"eventId","type":"string","doc":" not returned for VIEW/MAIN_CTA_CLICK/SECONDARY_CTA_CLICK/INTERACTION\n","readOnly":true},{"name":"externalUserId","type":"string","doc":" the uuid of user from external system that recieved the offer\n"},{"name":"createdAt","type":"string","doc":"","readOnly":true},{"name":"siteId","type":"string","doc":" the site context recieved the offer\n"},{"name":"userId","type":"string","doc":" the direct user recieved the offer\n"},{"name":"type","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_EventType","doc":""},{"name":"loggedInAccountId","type":"string","doc":""},{"name":"targetAccountId","type":"string","doc":" the target account context recieved the offer\n"}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_OfferEvent_payload","displayName":"payload Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"userMark","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_UserMarkedPayload","doc":" a payload when event type is USER_MARK\n"},{"name":"agentMark","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_AgentMarkedPayload","doc":" a payload when event type is AGENT_MARK\n"}],"enum":null,"extra":{},"labels":[],"oneOf":true},{"name":"_wix_dealerOfferEvents_api_v1_AgentMarkedPayload","displayName":"Agent Marked Payload Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"agentId","type":"string","doc":""},{"name":"status","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_AgentMarkedPayload_AgentOfferStatusEnum","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_UserMarkedPayload","displayName":"User Marked Payload Object","locations":[],"docs":{"summary":"","links":[],"examples":[]},"members":[{"name":"status","type":"All APIs.Dealer Offer Events._wix_dealerOfferEvents_api_v1_UserMarkedPayload_UserOfferStatusEnum","doc":""}],"enum":null,"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_TimeFrameType","displayName":"Time Frame Type Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> DAYS <\/code><\/li><li><code> MONTHS <\/code><\/li><li><code> YEARS <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["DAYS","MONTHS","YEARS"],"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_EventType","displayName":"Event Type Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> UNKNOWN <\/code><\/li><li><code> VIEW <\/code><\/li><li><code> INTERACTION <\/code><\/li><li><code> MAIN_CTA_CLICK <\/code><\/li><li><code> SECONDARY_CTA_CLICK <\/code><\/li><li><code> AGENT_MARK -  the only summary type supported for this event is lastEvent\n <\/code><\/li><li><code> USER_MARK -  the only summary type supported for this event is lastEvent\n <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["UNKNOWN","VIEW","INTERACTION","MAIN_CTA_CLICK","SECONDARY_CTA_CLICK","AGENT_MARK","USER_MARK"],"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_AgentMarkedPayload_AgentOfferStatusEnum","displayName":"Agent Offer Status Enum Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> NOT_STARTED <\/code><\/li><li><code> SUGGESTED <\/code><\/li><li><code> REJECTED <\/code><\/li><li><code> REQUESTED <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["NOT_STARTED","SUGGESTED","REJECTED","REQUESTED"],"extra":{},"labels":[]},{"name":"_wix_dealerOfferEvents_api_v1_UserMarkedPayload_UserOfferStatusEnum","displayName":"User Offer Status Enum Object","locations":[],"docs":{"summary":" \n Possible values are: <li><code> UNKNOWN <\/code><\/li><li><code> SKIPPED <\/code><\/li><li><code> UNDO_SKIP <\/code><\/li><li><code> SHOW_LATER <\/code><\/li><li><code> CLOSE <\/code><\/li>","links":[],"examples":[]},"members":[],"enum":["UNKNOWN","SKIPPED","UNDO_SKIP","SHOW_LATER","CLOSE"],"extra":{},"labels":[]}],"extra":{"artifactId":"."}}